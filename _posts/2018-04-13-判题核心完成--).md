---
author: wulei
comments: true
date: 2018-04-13 18:20:00+00:00
link: http://wulei.kim/2018/04/13/oj-core-finish/
slug: oj
title: 判题核心完成 :-)
tags:
- OJ
---

这是Online Judge迈向完成的第一步，我好像看到了一个OJ系统在像我招手。今天完成的是判题的核心程序，完成了从源代码的编译，运行到运行结果对比的过程，可以成功给出源代码的状态包括：编译错误，超时运行，运行时时错误（包括用户程序运行时错误和非法的系统调用），内存占用超量，输出结果错误和Accepted。

后续只需要完成一个服务程序，评测机就完成了，服务程序需要完成的功能有 ：

+ 通过Socket与Web端通信，接收评测请求和需要的文件（包括用户源代码，测试数据，标准输出答案）以及向Web端返回评测结果。
+ 评测环境的初始化。环境初始化包括评测文件夹及文件的准备，因为每一个用户的评测请求都是在一个独立的空间内进行编译、运行，文件包括源代码，标准输出答案，用于重定向的输出文件，输入文件，错误文件。
+ 判题进程的管理。对于每一个用户的评测请求，服务程序都会建立一个新的进程调用今天完成的判题核心来完成用户的判题，所以当有多个评测同时请求时，需要同时运行多个进程进行评测，所以进程的管理以及对相应进程结果的收集特别重要，直接关系到系统的性能。
+ 评测日志的记录，记录每个评测的详细信息（不包括源代码，源代码保存在Web端）。
+ 评测完成环境的清理。

[GitHub](https://github.com/wuleiaty/online-judge)

